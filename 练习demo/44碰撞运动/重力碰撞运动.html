<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>重力碰撞运动</title>
	<style type="text/css">
		body,div{margin:0;padding: 0}
        div{width:80px;height:80px;background: red;position: absolute;top:;left:;}
	</style>
</head>
<body>
	<input type="button" value="开始运动">
	<div></div>

	<script type="text/javascript">
		window.onload=function(){
			var oBtn=document.getElementsByTagName('input')[0];
			var oDiv=document.getElementsByTagName('div')[0];
            var iSpeedx=1000;
            var iSpeedy=1000;
			oBtn.onclick=startMove;

			function startMove(){
				setInterval(function(){
                    iSpeedy+=3;//竖直方向上速度逐加	

					var t=oDiv.offsetTop+iSpeedy;
					var l=oDiv.offsetLeft+iSpeedx;

					if(t>=document.documentElement.clientHeight-oDiv.offsetHeight){
						iSpeedy*=-0.8;
						iSpeedx*=0.8;  //水平方向速度减小
						t=document.documentElement.clientHeight-oDiv.offsetHeight;
					}else if(t<=0){
						iSpeedy*=-1;
						iSpeedx*=0.8;
						t=0;
					}

					if(l>=document.documentElement.clientWidth-oDiv.offsetWidth){
						iSpeedx*=-0.8;
						l=document.documentElement.clientWidth-oDiv.offsetWidth;
					}else if(l<=0){
						iSpeedx*=-0.8;
						l=0;
					}	

			        if(Math.abs(iSpeedx)<1)
			        {
			            iSpeedx=0;
			        }
			         
			        if(Math.abs(iSpeedy)<1)
			        {
			            iSpeedy=0;
			        }
         
					oDiv.style.left=l+'px';
					oDiv.style.top=t+'px';	
				},30)	
			}
		}
	</script>
</body>
</html>