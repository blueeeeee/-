<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>星级评分</title>
	<style type="text/css">
	div,p,ul,li,span{margin: 0;padding: 0;}
	li{list-style: none;}
	.main{width:500px;height: 50px;margin: 100px auto;line-height: 50px;}
	.main p{font-weight: bold;text-indent: 10px;float: left;}
	.main p span{color:red;}
	.main ul{height:50px;width:130px;float: left;}
	.main li{height: 16px;width: 16px;background: url(images/star1.png) no-repeat;float: left;margin:17px 5px;cursor: pointer;}
	.title{width:240px;height:40px;background: url(images/title.gif) no-repeat;display: inline-block;margin: 5px;line-height: 40px;}
	</style>
</head>
<body>
	<div class="main">
		<p><span>*</span>总体评价：</p>
		<ul>
			<li></li>
			<li></li>
			<li></li>
			<li></li>
			<li></li>
		</ul>
		<span class="title"></span>
	</div>

	<script type="text/javascript">
		window.onload=function(){
			var oMain=document.getElementsByClassName('main')[0];
			var oUl=oMain.getElementsByTagName('ul')[0];
			var aLi=oMain.getElementsByTagName('li');
			var oTitle=oMain.getElementsByClassName('title')[0];
        
			var aText=['极差','较差','一般','较好','极好'];

			function starPic(obj,event){
				obj[event]=function(){
					for(var j=0;j<aLi.length;j++){
						aLi[j].style.background='url(images/star1.png) no-repeat'
					}
                    for(var j=0;j<=obj.index;j++){
                    	if(obj.index<2){
                    		aLi[j].style.background='url(images/star2.png) no-repeat';
                    	}else{
                    		aLi[j].style.background='url(images/star3.png) no-repeat';
                    	} 
                    }
				    oTitle.innerHTML=aText[obj.index];  
				    oTitle.style.background='none';

				    if (event=='onmouseover') {
				    	obj.onmouseout=function(){
				    		for(var i=0;i<aLi.length;i++){
			    			aLi[i].style.background='url(images/star1.png) no-repeat';
				    		}
				    		oTitle.innerHTML='';
				    		oTitle.style.background='url(images/title.gif) no-repeat';
				    	}	
					}else{
					    obj.onmouseout=function(){
					    	for(var j=0;j<=this.index;j++){
		                    	if(this.index<2){
		                    		aLi[j].style.background='url(images/star2.png) no-repeat';
		                    	}else{
		                    		aLi[j].style.background='url(images/star3.png) no-repeat';
		                    	} 
			                }
						    oTitle.innerHTML=aText[this.index];  
						    oTitle.style.background='none';   
		                }	
					}
				}							
			}
			for(var i=0;i<aLi.length;i++){
				aLi[i].index=i;
				starPic(aLi[i],'onmouseover');
				starPic(aLi[i],'onclick');
			} 		    
		}
	</script>
</body>
</html>